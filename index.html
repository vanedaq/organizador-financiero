<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Organizador Financiero Completo</title>
    <link rel="stylesheet" href="estilos.css">
    
    <!-- Meta tags para PWA -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Org. Financiero">
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ’°%3C/text%3E%3C/svg%3E">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’° Mi Organizador Financiero Completo</h1>
            <p>Control total de ingresos, gastos y balance mensual</p>
            <div class="header-controls">
                <div class="month-selector">
                    <span>ğŸ“… Mes:</span>
                    <select id="mesSelector" onchange="cambiarMes()">
                        <option value="2025-01">Enero 2025</option>
                        <option value="2025-02">Febrero 2025</option>
                        <option value="2025-03">Marzo 2025</option>
                        <option value="2025-04">Abril 2025</option>
                        <option value="2025-05">Mayo 2025</option>
                        <option value="2025-06">Junio 2025</option>
                        <option value="2025-07" selected>Julio 2025</option>
                        <option value="2025-08">Agosto 2025</option>
                        <option value="2025-09">Septiembre 2025</option>
                        <option value="2025-10">Octubre 2025</option>
                        <option value="2025-11">Noviembre 2025</option>
                        <option value="2025-12">Diciembre 2025</option>
                    </select>
                </div>
                <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="probarCalculos()">
                    ğŸ§ª Probar CÃ¡lculos
                </button>
                <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="probarResumen()">
                    ğŸ“Š Probar Resumen
                </button>
                <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="probarCreditos()">
                    ğŸ’³ Probar CrÃ©ditos
                </button>
                <button class="btn" style="background: rgba(255,255,255,0.2); color: white;" onclick="limpiarTodo()">
                    ğŸ—‘ï¸ Limpiar Todo
                </button>
            </div>
        </div>
        
        <!-- Resumen financiero -->
        <div class="summary">
            <div class="summary-card ingresos">
                <h3>ğŸ’µ Ingresos Totales</h3>
                <div class="amount" id="totalIngresos">$0</div>
                <div class="percentage" id="ingresosPorcentaje">100%</div>
            </div>
            <div class="summary-card fijos">
                <h3>ğŸ  Gastos Fijos</h3>
                <div class="amount" id="totalFijos">$0</div>
                <div class="percentage" id="fijosPorcentaje">0%</div>
            </div>
            <div class="summary-card variables">
                <h3>ğŸ’³ Cuotas Mensuales</h3>
                <div class="amount" id="totalVariables">$0</div>
                <div class="percentage" id="variablesPorcentaje">0%</div>
            </div>
            <div class="summary-card compras">
                <h3>ğŸ›’ Gastos del Mes</h3>
                <div class="amount" id="totalCompras">$0</div>
                <div class="percentage" id="comprasPorcentaje">0%</div>
            </div>
            <div class="summary-card total">
                <h3>ğŸ“Š Total Gastos</h3>
                <div class="amount" id="totalGastos">$0</div>
                <div class="percentage" id="gastosPorcentaje">0%</div>
            </div>
            <div class="summary-card libre">
                <h3>ğŸ’° Dinero Libre</h3>
                <div class="amount" id="dineroLibre">$0</div>
                <div class="percentage" id="librePorcentaje">0%</div>
            </div>
        </div>
        
        <div id="balanceIndicator" class="balance-indicator"></div>
        
        <!-- PestaÃ±as de navegaciÃ³n -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('ingresos')">ğŸ’µ Ingresos</button>
            <button class="tab" onclick="showTab('fijos')">ğŸ  Gastos Fijos</button>
            <button class="tab" onclick="showTab('creditos')">ğŸ’³ CrÃ©ditos</button>
            <button class="tab" onclick="showTab('compras')">ğŸ›’ Compras</button>
            <button class="tab" onclick="showTab('historial')">ğŸ“Š Historial</button>
            <button class="tab" onclick="showTab('pruebas')">ğŸ§ª Pruebas</button>
        </div>
        
        <div class="content">
            <!-- PestaÃ±a de Ingresos -->
            <div id="ingresos" class="tab-content">
                <div class="section-header">
                    <h2>ğŸ’µ Ingresos Mensuales</h2>
                    <button class="btn btn-success" onclick="agregarIngreso()">+ Agregar Ingreso</button>
                </div>
                <div id="listaIngresos"></div>
            </div>
            
            <!-- PestaÃ±a de Gastos Fijos -->
            <div id="fijos" class="tab-content hidden">
                <div class="section-header">
                    <h2>ğŸ  Gastos Fijos Mensuales</h2>
                    <button class="btn btn-primary" onclick="agregarGastoFijo()">+ Agregar Gasto</button>
                </div>
                <div id="listaFijos"></div>
            </div>
            
            <!-- PestaÃ±a de CrÃ©ditos -->
            <div id="creditos" class="tab-content hidden">
                <div class="section-header">
                    <h2>ğŸ’³ CrÃ©ditos y Tarjetas</h2>
                    <button class="btn btn-warning" onclick="agregarCredito()">+ Agregar CrÃ©dito</button>
                </div>
                <div id="listaCreditos"></div>
            </div>
            
            <!-- PestaÃ±a de Compras -->
            <div id="compras" class="tab-content hidden">
                <div class="section-header">
                    <h2>ğŸ›’ Compras y Gastos Diarios</h2>
                    <button class="btn btn-primary" onclick="agregarCompra()">+ Agregar Compra</button>
                </div>
                <div id="listaCompras"></div>
            </div>
            
            <!-- PestaÃ±a de Historial -->
            <div id="historial" class="tab-content hidden">
                <div class="section-header">
                    <h2>ğŸ“Š Historial Mensual</h2>
                    <button class="btn btn-primary" onclick="exportarDatos()">ğŸ“¥ Exportar Datos</button>
                </div>
                <div id="tablaHistorial"></div>
            </div>
            
            <!-- PestaÃ±a de Pruebas -->
            <div id="pruebas" class="tab-content hidden">
                <h2>ğŸ§ª Prueba de Funciones de InterÃ©s</h2>
                <p>Haz clic en los botones del header para verificar que las funciones funcionan correctamente.</p>
                
                <div id="resultados"></div>
            </div>
        </div>
    </div>

    <!-- Modal para editar crÃ©ditos -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Editar CrÃ©dito</h3>
                <button class="close" onclick="cerrarModal()">&times;</button>
            </div>
            <div id="modalBody"></div>
            <div style="display: flex; gap: 15px; justify-content: flex-end; margin-top: 30px;">
                <button class="btn btn-danger" onclick="cerrarModal()">Cancelar</button>
                <button class="btn btn-success" onclick="guardarEdicion()">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>